<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>Inline-editing</title>
        <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

</style>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
        
    </head>
    <body class="vscode-body vscode-light">
        <table style="display: flex;justify-content: center;" id="moddioVersion">
<thead>
    <tr>
        <th>Moddio Version: 2.0.11</th>
        <th>(current)</th>
    </tr>
</thead>
<tbody></tbody>
</table>
<h1 id="inline-editing">Inline-editing</h1>
<blockquote>
<p>ðŸš§ Beware! inline-editing is heavily under construction and a lot of things may change.
Please use the latest version whenever possible</p>
</blockquote>
<p>If you're tired of clicking on each slot in the script editor, there's a solution for you: inline editing. You can change the editing mode in the script modal or use the shortcut <code><strong>ctrl+q</strong></code> to toggle the editing mode. This feature allows you to edit multiple slots simultaneously without having to navigate through nested objects. It's especially useful for editing numbers. You can freely copy and paste in the inline editing mode.</p>
<p><a href="../img/inline-editing/introduce.png">inline-editing</a></p>
<p><img src="file:///d:\repo\moddio-docs\img\inline-editing\firstUseInline.png" alt="magic">
There is a magical feeling so right~ â™ª, huhh, as you can see, the multi-nested object is getting flat, I mean u can edit every slots at same time, no need to click to go deep the nested object, especially useful for editing those numbers.</p>
<p>You can copy or paste here freely, enjoy xD.</p>
<hr>
<h2 id="hello-world-example">&quot;Hello World&quot; Example</h2>
<p>To start with a classic &quot;hello world&quot; example, you can choose the <code>send chat message</code> action from the dropdown menu in the script editor. Change it to inline editing mode and type &quot;hello world&quot; within quotes. You can also use single quotes if you need to include double quotes within the string. For example, 'once upon a time, someone said: &quot;hello world&quot;'.</p>
<p>Inline editing is particularly useful when concatenating strings with other strings or numbers. For instance, you can try typing the following code:
<img src="file:///d:\repo\moddio-docs\img\inline-editing\helloWorld.png" alt="sendChatMessage"></p>
<p>And for <code>string</code>, it's very useful to use inline-editing when u want to concat the <code>string</code> with <code>string</code> or <code>number</code></p>
<blockquote>
<p>Try type</p>
</blockquote>
<pre><code class="language-js"><span class="hljs-string">&quot;a random number = &quot;</span> + <span class="hljs-title function_">randNumber</span>(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>);
</code></pre>
<blockquote>
<p>Tips<br>
Inline-editing will auto handle <code>string</code> + <code>number</code>, if the addition equation contains the <code>string</code>, the output will be <code>string</code>, and <code>number</code> + <code>number</code> will be concat as <code>string</code></p>
</blockquote>
<pre><code class="language-js"><span class="hljs-number">1</span> + <span class="hljs-number">1</span> + <span class="hljs-string">&quot;hello&quot;</span> <span class="hljs-comment">// &quot;11hello&quot;</span>
(<span class="hljs-number">1</span> + <span class="hljs-number">1</span>) + <span class="hljs-string">&quot;hello&quot;</span>; <span class="hljs-comment">// &quot;2hello&quot;</span>
</code></pre>
<h2 id="action-aliases">Action aliases</h2>
<blockquote>
<p>In inline-editing, we have many action aliases to simplified function calling, here is the table<br>
no worries! the complete suggestions will help you, no need to remember these aliases</p>
</blockquote>
<table>
<thead>
<tr>
<th>Function Name</th>
<th>Alias</th>
</tr>
</thead>
<tbody>
<tr>
<td>getRandomNumberBetween</td>
<td>randNumber</td>
</tr>
<tr>
<td>xyCoordinate</td>
<td>pos</td>
</tr>
<tr>
<td>dynamicRegion</td>
<td>region</td>
</tr>
<tr>
<td>mathFloor</td>
<td>floor</td>
</tr>
<tr>
<td>squareRoot</td>
<td>sqrt</td>
</tr>
<tr>
<td>getRandomItemTypeFromItemTypeGroup</td>
<td>randItemType</td>
</tr>
<tr>
<td>stringToNumber</td>
<td>str2num</td>
</tr>
<tr>
<td>getPositionY</td>
<td>y</td>
</tr>
<tr>
<td>getPositionX</td>
<td>x</td>
</tr>
<tr>
<td>getXCoordinateOfRegion</td>
<td>x</td>
</tr>
<tr>
<td>getYCoordinateOfRegion</td>
<td>y</td>
</tr>
<tr>
<td>getItemTypeOfItem</td>
<td>type</td>
</tr>
<tr>
<td>getUnitTypeOfUnit</td>
<td>type</td>
</tr>
<tr>
<td>playerTypeOfPlayer</td>
<td>type</td>
</tr>
<tr>
<td>getRandomUnitTypeFromUnitTypeGroup</td>
<td>type</td>
</tr>
<tr>
<td>undefinedValue</td>
<td>undefined</td>
</tr>
<tr>
<td>getRandomPositionInRegion</td>
<td>randPos</td>
</tr>
<tr>
<td>substringOf</td>
<td>slice</td>
</tr>
<tr>
<td>absoluteValueOfNumber</td>
<td>abs</td>
</tr>
<tr>
<td>getExponent</td>
<td>pow</td>
</tr>
<tr>
<td>numberToString</td>
<td>num2str</td>
</tr>
<tr>
<td>stringToObject</td>
<td>str2obj</td>
</tr>
<tr>
<td>objectToString</td>
<td>obj2Str</td>
</tr>
<tr>
<td>unitsFacingAngle</td>
<td>facingAngle</td>
</tr>
<tr>
<td>getCurrentAmmoOfItem</td>
<td>currentAmmo</td>
</tr>
<tr>
<td>changeDescriptionOfItem</td>
<td>changeDesc</td>
</tr>
<tr>
<td>getOwnerOfItem</td>
<td>owner</td>
</tr>
<tr>
<td>setFadingTextOfUnit</td>
<td>setFadingText</td>
</tr>
<tr>
<td>getSensorOfUnit</td>
<td>sensor</td>
</tr>
<tr>
<td>getPositionInFrontOfPosition</td>
<td>polarProjection</td>
</tr>
<tr>
<td>lastPlayedTimeOfPlayer</td>
<td>lastPlayedTime</td>
</tr>
<tr>
<td>getLastPurchasedUnit</td>
<td>lastPurchasedUnit</td>
</tr>
<tr>
<td>getLastPlayerSelectingDialogueOption</td>
<td>lastSelectingDialogueOption</td>
</tr>
<tr>
<td>getTriggeringItem</td>
<td>triggeringItem</td>
</tr>
<tr>
<td>playerCustomInput</td>
<td>lastPlayerInput</td>
</tr>
<tr>
<td>getTriggeringRegion</td>
<td>triggeringRegion</td>
</tr>
<tr>
<td>getLastOverlappingUnit</td>
<td>lastOverlappingUnit</td>
</tr>
<tr>
<td>lastPurchasedUnitTypetId</td>
<td>lastPurchasedUnitType</td>
</tr>
<tr>
<td>getTriggeringPlayer</td>
<td>triggeringPlayer</td>
</tr>
<tr>
<td>getLastOverlappedUnit</td>
<td>lastOverlappedUnit</td>
</tr>
<tr>
<td>getLastCreatedItem</td>
<td>lastCreatedItem</td>
</tr>
<tr>
<td>getLastCreatedProjectile</td>
<td>lastCreatedProjectile</td>
</tr>
<tr>
<td>getLastTouchingUnit</td>
<td>lastTouchingUnit</td>
</tr>
<tr>
<td>getLastOverlappingItem</td>
<td>lastOverlappingItem</td>
</tr>
<tr>
<td>entityLastRaycastCollisionPosition</td>
<td>lastRaycastCollisionPos</td>
</tr>
<tr>
<td>getLastCastingUnit</td>
<td>lastCastingUnit</td>
</tr>
<tr>
<td>getLastTouchedUnit</td>
<td>lastTouchedUnit</td>
</tr>
<tr>
<td>getTriggeringProjectile</td>
<td>triggeringProj</td>
</tr>
<tr>
<td>getLastCreatedUnit</td>
<td>lastCreatedUnit</td>
</tr>
<tr>
<td>getTriggeringUnit</td>
<td>triggeringUnit</td>
</tr>
<tr>
<td>getLastTouchedItem</td>
<td>lastTouchedItem</td>
</tr>
<tr>
<td>getLastTouchedProjectile</td>
<td>lastTouchedProj</td>
</tr>
<tr>
<td>getLastOverlappingProjectile</td>
<td>lastOverlappingProj</td>
</tr>
<tr>
<td>getTriggeringAttribute</td>
<td>triggeringAttr</td>
</tr>
<tr>
<td>getLastAttackedUnit</td>
<td>lastAttackedUnit</td>
</tr>
<tr>
<td>getLastAttackingUnit</td>
<td>lastAttackingUnit</td>
</tr>
<tr>
<td>getLastChatMessageSentByPlayer</td>
<td>lastChatMessageSent</td>
</tr>
<tr>
<td>getLastAttackingItem</td>
<td>lastAttackingItem</td>
</tr>
</tbody>
</table>
<p>You can use these aliases directly, like pos(2, 5), created a position</p>
<h2 id="method--property">Method &amp; Property</h2>
<blockquote>
<p>do you know the method chaining?<br>
it's something that you can call the functions one by one like in a chain</p>
</blockquote>
<pre><code class="language-js"><span class="hljs-title function_">pos</span>(<span class="hljs-number">5</span>, <span class="hljs-number">6</span>).<span class="hljs-property">x</span>.<span class="hljs-property">abs</span> <span class="hljs-comment">// equals to abs(getXCoordinate(xyCoordinate(5, 6))), seems much better, right?</span>
<span class="hljs-comment">// and it can be very long, very very long...</span>
<span class="hljs-title function_">pos</span>(<span class="hljs-number">5.6</span>).<span class="hljs-property">x</span>.<span class="hljs-property">abs</span>.<span class="hljs-property">cos</span>.<span class="hljs-property">sin</span>.<span class="hljs-title function_">randNumber</span>(<span class="hljs-number">5</span>).<span class="hljs-property">cos</span>.<span class="hljs-property">abs</span>.<span class="hljs-property">abs</span>.<span class="hljs-property">abs</span>.<span class="hljs-property">abs</span>.<span class="hljs-property">abs</span>.<span class="hljs-property">abs</span>.<span class="hljs-property">abs</span>
</code></pre>
<p>Yes, the inline-editing can help you do this thing, you only need to connect them one by one<br>
You may noticed that some properties have same names</p>
<pre><code class="language-js"><span class="hljs-comment">// inline-editing can handle different data type with the same name</span>
<span class="hljs-comment">// you don&#x27;t need to use &#x27;getPositionX&#x27; for pos, &#x27;getXCoordinateOfRegion&#x27; for region</span>
<span class="hljs-title function_">pos</span>(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>).<span class="hljs-property">x</span> <span class="hljs-comment">// 1</span>
<span class="hljs-title function_">region</span>(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>).<span class="hljs-property">x</span> <span class="hljs-comment">// 2</span>
</code></pre>
<p>here is the table of contents currently available</p>
<table>
<thead>
<tr>
<th>x</th>
<th>y</th>
<th>type</th>
</tr>
</thead>
<tbody>
<tr>
<td>region</td>
<td>region</td>
<td>item</td>
</tr>
<tr>
<td>pos</td>
<td>pos</td>
<td>unit</td>
</tr>
<tr>
<td>-</td>
<td>-</td>
<td>player</td>
</tr>
<tr>
<td>-</td>
<td>-</td>
<td>unitTypeGroup</td>
</tr>
</tbody>
</table>
<h2 id="attr--var">Attr &amp; Var</h2>
<p>you can use <code>someEntity.some_var</code> to get the var<br>
<code>someEntity.$some_attr</code> to get the attr</p>
<pre><code class="language-js"><span class="hljs-comment">// you need to define these attr or var first in entity editor</span>
thisEntity.<span class="hljs-property">deathCount</span>
thisEntity.<span class="hljs-property">$health</span>
</code></pre>
<h2 id="if-statement">If statement</h2>
<p>In inline editing, you can use various operators for conditional statements. Here are a few examples:</p>
<ul>
<li><strong>&amp;&amp;</strong> (and): pos(0, 1).y &gt; 1 &amp;&amp; thisEntity.$health != 10</li>
<li><strong>||</strong> (or): pos(0, 1).y &gt; 1 || thisEntity.$health == 10</li>
<li><strong>!=</strong> (not equal): 1 != 2</li>
<li><strong>==</strong> (equal): 1 == 1</li>
<li><strong>&gt;, &lt;, &gt;=, &lt;=</strong>: pos(0, 1).y &gt; 1 &amp;&amp; thisEntity.$health &lt;= 10</li>
</ul>
<h2 id="playground">Playground</h2>
<p>you can always play in playground first, enjoy it.<br>
<a href="https://moddio.github.io/script-editor/?path=/docs/textscripteditor--docs">playground</a></p>
<iframe style="height: 40rem" src = "https://moddio.github.io/script-editor/?path=/docs/textscripteditor--docs" >
</iframe>
<h2 id="qa">Q&amp;A</h2>
<h4 id="it-crashed-my-editor">It crashed my editor</h4>
<hr>
<p>It's still in beta, im sorry to hear that, feel free to open an issue or direct message @jiloduo (Moe'Thun) in discord, plz also take some screenshots or error logs, I beg you.</p>
<h4 id="which-way-is-better-default-or-inline">Which way is better? default or inline</h4>
<hr>
<p>In complex situation, just use inline</p>
<h4 id="how-can-i-contribute-to-the-inline-editing">How can I contribute to the inline editing</h4>
<hr>
<p>For now, there are two repos of inline editing,</p>
<ul>
<li><a href="https://github.com/moddio/script-parser">script-parser</a></li>
<li><a href="https://github.com/moddio/script-editor">script-editor</a>
read the <a href="http://README.html">README.md</a> to know more</li>
</ul>
<h2 id="changelog">Changelog</h2>
<ul>
<li><strong>[2.1.0]:</strong>
<ul>
<li>support if condition statement</li>
<li>support auto completion for unitType and script</li>
<li>fixing issues in runScript, getVariable and getAttribute</li>
<li>actions which prefer to use var.method will be converted back as var.method, e.g pos(2, 2).x will be pos(2, 2).x rather than x(pos(2, 2))</li>
<li>1 + 1 + &quot;5&quot; will be &quot;115&quot; rather than &quot;25&quot;</li>
<li>refactor the string iteration of inline-editing, the error markers position would be more meaningful</li>
<li>support some_entity.$some_attr for attributes, e.g thisEntity.$health</li>
<li>var.method() won't always use var as the first input parameters for the method, but will auto insert to the right pos<br>
e.g<br>
some_method(number, string),<br>
&quot;test&quot;.some_method(2) = some_method(&quot;test&quot;, 2) [prev, which is wrong]<br>
&quot;test&quot;.some_method(2) = some_method(2, &quot;test&quot;) [now, which is right]</li>
</ul>
</li>
<li><strong>[2.0.0]:</strong> added</li>
</ul>

        <script async src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
        
    </body>
    </html>